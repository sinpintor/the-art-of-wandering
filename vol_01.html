<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOMADIC â€” Vol. 01</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Noto+Serif+TC:wght@200;300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --black: #0a0a0a; --white: #fdfdfd; --grey: #777777; }
        ::-webkit-scrollbar { display: none; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; font-family: 'Montserrat', 'Noto Serif TC', sans-serif; background-color: var(--black); color: var(--white); overflow: hidden; }

        /* åº•ç‰‡å™ªé» */
        .noise {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            pointer-events: none; z-index: 9999;
            background: url('data:image/svg+xml;utf8,%3Csvg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"%3E%3Cfilter id="n"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="3"/%3E%3C/filter%3E%3Crect width="100%25" height="100%25" filter="url(%23n)" opacity="0.05"/%3E%3C/svg%3E');
        }

        /* --- ç¬¬ä¸€å±¤ï¼šæ•…äº‹æ•˜äº‹ (æ‰‰é ) --- */
        #preface-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            background: linear-gradient(rgba(0,0,0,0.3), rgba(10,10,10,0.9)), url('https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?q=80&w=2000&auto=format&fit=crop') center/cover no-repeat;
            z-index: 20; transition: opacity 1.5s cubic-bezier(0.2, 1, 0.3, 1), transform 1.5s ease;
            padding: 40px; box-sizing: border-box; text-align: center;
        }
        .preface-content { max-width: 550px; }
        .preface-content h2 { font-family: 'Playfair Display', serif; font-size: 0.75rem; letter-spacing: 0.6em; text-transform: uppercase; color: var(--grey); margin-bottom: 35px; font-weight: 300; }
        .preface-text { font-family: 'Noto Serif TC', serif; font-size: 0.95rem; line-height: 2.3; color: #ccc; font-weight: 200; letter-spacing: 0.05em; margin-bottom: 50px; }
        .action-btn-outline { font-family: 'Montserrat', sans-serif; font-size: 0.65rem; letter-spacing: 0.4em; text-transform: uppercase; background: transparent; border: 1px solid var(--white); padding: 18px 45px; cursor: pointer; color: var(--white); transition: 0.5s; border-radius: 0; }
        .action-btn-outline:hover { background: var(--white); color: var(--black); }

        /* --- ç¬¬äºŒå±¤ï¼šæŠ½ç±¤ä»‹é¢ --- */
        #generator-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            background-color: var(--black); z-index: 10; opacity: 0; pointer-events: none;
            padding: 40px 20px; box-sizing: border-box; transition: opacity 1.2s ease;
        }
        .layout { width: 100%; max-width: 420px; text-align: center; }
        .nav-back { font-size: 0.6rem; letter-spacing: 0.3em; text-transform: uppercase; cursor: pointer; color: var(--grey); margin-bottom: 60px; display: inline-block; text-decoration: none; border-bottom: 1px solid transparent; transition: 0.3s; }
        .nav-back:hover { border-bottom: 1px solid var(--grey); }
        
        .result-area { min-height: 160px; display: flex; flex-direction: column; justify-content: center; margin-bottom: 40px; }
        .result-box { font-family: 'Noto Serif TC', serif; font-size: 2.6rem; font-weight: 200; letter-spacing: 0.15em; color: var(--white); line-height: 1.4; }
        .result-count { font-size: 0.55rem; color: #444; margin-top: 20px; letter-spacing: 0.3em; text-transform: uppercase; }

        .mission-box { font-family: 'Noto Serif TC', serif; font-size: 0.85rem; color: #999; padding: 25px 0; margin-bottom: 40px; border-top: 1px solid #1a1a1a; border-bottom: 1px solid #1a1a1a; line-height: 2; font-weight: 200; display: none; text-align: justify; }
        
        .draw-btn { font-family: 'Montserrat', sans-serif; font-size: 0.75rem; padding: 22px; cursor: pointer; border: none; background: var(--white); color: var(--black); width: 100%; letter-spacing: 0.4em; text-transform: uppercase; font-weight: 500; transition: 0.4s; }
        .confirm-btn { font-family: 'Montserrat', sans-serif; font-size: 0.65rem; padding: 18px; cursor: pointer; border: 1px solid #333; background: transparent; color: var(--white); width: 100%; letter-spacing: 0.3em; text-transform: uppercase; margin-top: 15px; }
        
        .history-reset { font-size: 0.5rem; color: #222; background: none; border: none; margin-top: 40px; letter-spacing: 0.2em; cursor: pointer; text-transform: uppercase; }

        .layer-hidden { opacity: 0; transform: scale(1.1); pointer-events: none; }
    </style>
</head>
<body>

    <div class="noise"></div>

    <section id="preface-layer">
        <div class="preface-content">
            <h2>Vol. 01 â€” The Travel Issue</h2>
            <p class="preface-text">
                å¼•æ“ç™¼å‹•çš„ç¬é–“ï¼Œé€™å°è»Šå°±æˆäº†åœ°åœ–ä¸Šçš„å­¤å³¶ã€‚<br><br>
                ä½ æ˜¯æŒèˆµçš„éŠç‰§è€…ï¼Œæˆ‘æ˜¯ç´€éŒ„é¢¨æ™¯çš„å‰¯é§•è¦–è§’ã€‚æˆ‘å€‘ä¸å†è¨è«–ã€Œå»å“ªè£¡ã€ï¼Œåªè¨è«–ã€Œé€™æ¢è·¯æœƒå¸¶çµ¦æˆ‘å€‘ä»€éº¼ã€ã€‚ç•¶æˆ‘å€‘äº¤å‡ºå°èˆªçš„æ§åˆ¶æ¬Šï¼Œå®‡å®™ä¾¿é–‹å§‹åœ¨æ“‹é¢¨ç»ç’ƒå‰é¡¯åŒ–å¥‡è¹Ÿã€‚<br><br>
                åœ¨é‚£äº›æœªè¢«æ¨™è¨»çš„é©šå–œè£¡ï¼Œè—è‘—æˆ‘å€‘æœ€ç´”ç²¹çš„æµªæ¼«ã€‚
            </p>
            <button class="action-btn-outline" onclick="showGenerator()">Start Wandering</button>
        </div>
    </section>

    <section id="generator-layer">
        <div class="layout">
            <a href="index.html" class="nav-back">â† Back to Archives</a>
            
            <div class="result-area">
                <div class="result-box" id="result">The Unknown</div>
                <div class="result-count" id="visited-count">Explored: 0 regions</div>
            </div>

            <div class="mission-box" id="mission-box"></div>

            <div class="btn-group">
                <button class="draw-btn" id="main-draw-btn" onclick="startRolling()">Seek Destination</button>
                <button class="confirm-btn" id="confirm-btn" style="display:none;" onclick="confirmArrival()">Check-in this location</button>
                <button class="history-reset" onclick="clearHistory()">Reset footprint memory</button>
            </div>
        </div>
    </section>

<script>
    // å®Œæ•´çš„å°ç£ç¸£å¸‚è¡Œæ”¿å€è³‡æ–™
    const taiwanData = {
        "åŸºéš†å¸‚": ["ä»æ„›å€", "ä¿¡ç¾©å€", "ä¸­æ­£å€", "ä¸­å±±å€", "å®‰æ¨‚å€", "æš–æš–å€", "ä¸ƒå µå€"],
        "å°åŒ—å¸‚": ["ä¸­æ­£å€", "å¤§åŒå€", "ä¸­å±±å€", "æ¾å±±å€", "å¤§å®‰å€", "è¬è¯å€", "ä¿¡ç¾©å€", "å£«æ—å€", "åŒ—æŠ•å€", "å…§æ¹–å€", "å—æ¸¯å€", "æ–‡å±±å€"],
        "æ–°åŒ—å¸‚": ["è¬é‡Œå€", "é‡‘å±±å€", "æ¿æ©‹å€", "æ±æ­¢å€", "æ·±å‘å€", "çŸ³ç¢‡å€", "ç‘èŠ³å€", "å¹³æºªå€", "é›™æºªå€", "è²¢å¯®å€", "æ–°åº—å€", "åªæ—å€", "çƒä¾†å€", "æ°¸å’Œå€", "ä¸­å’Œå€", "åœŸåŸå€", "ä¸‰å³½å€", "æ¨¹æ—å€", "é¶¯æ­Œå€", "ä¸‰é‡å€", "æ–°èŠå€", "æ³°å±±å€", "æ—å£å€", "è˜†æ´²å€", "äº”è‚¡å€", "å…«é‡Œå€", "æ·¡æ°´å€", "ä¸‰èŠå€", "çŸ³é–€å€"],
        "æ¡ƒåœ’å¸‚": ["ä¸­å£¢å€", "å¹³é®å€", "é¾æ½­å€", "æ¥Šæ¢…å€", "æ–°å±‹å€", "è§€éŸ³å€", "æ¡ƒåœ’å€", "é¾œå±±å€", "å…«å¾·å€", "å¤§æºªå€", "å¾©èˆˆå€", "å¤§åœ’å€", "è˜†ç«¹å€"],
        "æ–°ç«¹å¸‚": ["æ±å€", "åŒ—å€", "é¦™å±±å€"],
        "æ–°ç«¹ç¸£": ["ç«¹åŒ—å¸‚", "æ¹–å£é„‰", "æ–°è±é„‰", "æ–°åŸ”é®", "é—œè¥¿é®", "èŠæ—é„‰", "å¯¶å±±é„‰", "ç«¹æ±é®", "äº”å³°é„‰", "æ©«å±±é„‰", "å°–çŸ³é„‰", "åŒ—åŸ”é„‰", "å³¨çœ‰é„‰"],
        "è‹—æ —ç¸£": ["ç«¹å—é®", "é ­ä»½å¸‚", "ä¸‰ç£é„‰", "å—åº„é„‰", "ç…æ½­é„‰", "å¾Œé¾é®", "é€šéœ„é®", "è‹‘è£¡é®", "è‹—æ —å¸‚", "é€ æ©‹é„‰", "é ­å±‹é„‰", "å…¬é¤¨é„‰", "å¤§æ¹–é„‰", "æ³°å®‰é„‰", "éŠ…é‘¼é„‰", "ä¸‰ç¾©é„‰", "è¥¿æ¹–é„‰", "å“è˜­é®"],
        "å°ä¸­å¸‚": ["ä¸­å€", "æ±å€", "å—å€", "è¥¿å€", "åŒ—å€", "åŒ—å±¯å€", "è¥¿å±¯å€", "å—å±¯å€", "å¤ªå¹³å€", "å¤§é‡Œå€", "éœ§å³°å€", "çƒæ—¥å€", "è±åŸå€", "åé‡Œå€", "çŸ³å²¡å€", "æ±å‹¢å€", "å’Œå¹³å€", "æ–°ç¤¾å€", "æ½­å­å€", "å¤§é›…å€", "ç¥å²¡å€", "å¤§è‚šå€", "æ²™é¹¿å€", "é¾äº•å€", "æ¢§æ£²å€", "æ¸…æ°´å€", "å¤§ç”²å€", "å¤–åŸ”å€", "å¤§å®‰å€"],
        "å½°åŒ–ç¸£": ["å½°åŒ–å¸‚", "èŠ¬åœ’é„‰", "èŠ±å£‡é„‰", "ç§€æ°´é„‰", "é¹¿æ¸¯é®", "ç¦èˆˆé„‰", "ç·šè¥¿é„‰", "å’Œç¾é®", "ä¼¸æ¸¯é„‰", "å“¡æ—å¸‚", "ç¤¾é ­é„‰", "æ°¸é–é„‰", "åŸ”å¿ƒé„‰", "æºªæ¹–é®", "å¤§æ‘é„‰", "åŸ”é¹½é„‰", "ç”°ä¸­é®", "åŒ—æ–—é®", "ç”°å°¾é„‰", "åŸ¤é ­é„‰", "æºªå·é„‰", "ç«¹å¡˜é„‰", "äºŒæ—é®", "å¤§åŸé„‰", "èŠ³è‹‘é„‰", "äºŒæ°´é„‰"],
        "å—æŠ•ç¸£": ["å—æŠ•å¸‚", "ä¸­å¯®é„‰", "è‰å±¯é®", "åœ‹å§“é„‰", "åŸ”é‡Œé®", "ä»æ„›é„‰", "åé–“é„‰", "é›†é›†é®", "æ°´é‡Œé„‰", "é­šæ± é„‰", "ä¿¡ç¾©é„‰", "ç«¹å±±é®", "é¹¿è°·é„‰"],
        "é›²æ—ç¸£": ["æ–—å—é®", "å¤§åŸ¤é„‰", "è™å°¾é®", "åœŸåº«é®", "è¤’å¿ é„‰", "æ±å‹¢é„‰", "è‡ºè¥¿é„‰", "å´™èƒŒé„‰", "éº¥å¯®é„‰", "æ–—å…­å¸‚", "æ—å…§é„‰", "å¤å‘é„‰", "è¿æ¡é„‰", "è¥¿èºé®", "äºŒå´™é„‰", "åŒ—æ¸¯é®", "æ°´æ—é„‰", "å£æ¹–é„‰", "å››æ¹–é„‰", "å…ƒé•·é„‰"],
        "å˜‰ç¾©å¸‚": ["æ±å€", "è¥¿å€"],
        "å˜‰ç¾©ç¸£": ["ç•ªè·¯é„‰", "æ¢…å±±é„‰", "ç«¹å´é„‰", "é˜¿é‡Œå±±é„‰", "ä¸­åŸ”é„‰", "å¤§åŸ”é„‰", "æ°´ä¸Šé„‰", "é¹¿è‰é„‰", "å¤ªä¿å¸‚", "æœ´å­å¸‚", "æ±çŸ³é„‰", "å…­è…³é„‰", "æ–°æ¸¯é„‰", "æ°‘é›„é„‰", "å¤§æ—é®", "æºªå£é„‰", "ç¾©ç«¹é„‰", "å¸ƒè¢‹é®"],
        "å°å—å¸‚": ["ä¸­è¥¿å€", "æ±å€", "å—å€", "åŒ—å€", "å®‰å¹³å€", "å®‰å—å€", "æ°¸åº·å€", "æ­¸ä»å€", "æ–°åŒ–å€", "å·¦é®å€", "ç‰äº•å€", "æ¥ è¥¿å€", "å—åŒ–å€", "ä»å¾·å€", "é—œå»Ÿå€", "é¾å´å€", "å®˜ç”°å€", "éº»è±†å€", "ä½³é‡Œå€", "è¥¿æ¸¯å€", "ä¸ƒè‚¡å€", "å°‡è»å€", "å­¸ç”²å€", "åŒ—é–€å€", "æ–°ç‡Ÿå€", "å¾Œå£å€", "ç™½æ²³å€", "æ±å±±å€", "å…­ç”²å€", "ä¸‹ç‡Ÿå€", "æŸ³ç‡Ÿå€", "é¹½æ°´å€", "å–„åŒ–å€", "å¤§å…§å€", "å±±ä¸Šå€", "æ–°å¸‚å€", "å®‰å®šå€"],
        "é«˜é›„å¸‚": ["æ¥ æ¢“å€", "å·¦ç‡Ÿå€", "é¼“å±±å€", "ä¸‰æ°‘å€", "é¹½åŸ•å€", "å‰é‡‘å€", "æ–°èˆˆå€", "è‹“é›…å€", "å‰é®å€", "æ——æ´¥å€", "å°æ¸¯å€", "é³³å±±å€", "æ—åœ’å€", "å¤§å¯®å€", "å¤§æ¨¹å€", "å¤§ç¤¾å€", "ä»æ­¦å€", "é³¥æ¾å€", "å²¡å±±å€", "æ©‹é ­å€", "ç‡•å·¢å€", "ç”°å¯®å€", "é˜¿è“®å€", "è·¯ç«¹å€", "æ¹–å…§å€", "èŒ„è£å€", "æ°¸å®‰å€", "å½Œé™€å€", "æ¢“å®˜å€", "æ——å±±å€", "ç¾æ¿ƒå€", "å…­é¾œå€", "ç”²ä»™å€", "æ‰æ—å€", "å…§é–€å€", "èŒ‚æ—å€", "æ¡ƒæºå€", "é‚£ç‘ªå¤å€"],
        "å±æ±ç¸£": ["å±æ±å¸‚", "ä¸‰åœ°é–€é„‰", "éœ§è‡ºé„‰", "ç‘ªå®¶é„‰", "ä¹å¦‚é„‰", "é‡Œæ¸¯é„‰", "é«˜æ¨¹é„‰", "é¹½åŸ”é„‰", "é•·æ²»é„‰", "éºŸæ´›é„‰", "ç«¹ç”°é„‰", "å…§åŸ”é„‰", "è¬ä¸¹é„‰", "æ½®å·é®", "æ³°æ­¦é„‰", "ä¾†ç¾©é„‰", "è¬å·’é„‰", "å´é ‚é„‰", "æ–°åŸ¤é„‰", "å—å·é„‰", "æ—é‚Šé„‰", "æ±æ¸¯é®", "ç‰çƒé„‰", "ä½³å†¬é„‰", "æ–°åœ’é„‰", "æ‹å¯®é„‰", "æ‹å±±é„‰", "æ˜¥æ—¥é„‰", "ç…å­é„‰", "è»ŠåŸé„‰", "ç‰¡ä¸¹é„‰", "æ†æ˜¥é®", "æ»¿å·é„‰"],
        "å®œè˜­ç¸£": ["å®œè˜­å¸‚", "é ­åŸé®", "ç¤æºªé„‰", "å£¯åœé„‰", "å“¡å±±é„‰", "ç¾…æ±é®", "ä¸‰æ˜Ÿé„‰", "å¤§åŒé„‰", "äº”çµé„‰", "å†¬å±±é„‰", "è˜‡æ¾³é®", "å—æ¾³é„‰"],
        "èŠ±è“®ç¸£": ["èŠ±è“®å¸‚", "æ–°åŸé„‰", "ç§€æ—é„‰", "å‰å®‰é„‰", "å£½è±é„‰", "é³³æ—é®", "å…‰å¾©é„‰", "è±æ¿±é„‰", "ç‘ç©—é„‰", "è¬æ¦®é„‰", "ç‰é‡Œé®", "å“æºªé„‰", "å¯Œé‡Œé„‰"],
        "å°æ±ç¸£": ["è‡ºæ±å¸‚", "ç¶ å³¶é„‰", "è˜­å¶¼é„‰", "å»¶å¹³é„‰", "å‘å—é„‰", "é¹¿é‡é„‰", "é—œå±±é®", "æµ·ç«¯é„‰", "æ± ä¸Šé„‰", "æ±æ²³é„‰", "æˆåŠŸé®", "é•·æ¿±é„‰", "å¤ªéº»é‡Œé„‰", "é‡‘å³°é„‰", "å¤§æ­¦é„‰", "é”ä»é„‰"],
        "æ¾æ¹–ç¸£": ["é¦¬å…¬å¸‚", "è¥¿å¶¼é„‰", "æœ›å®‰é„‰", "ä¸ƒç¾é„‰", "ç™½æ²™é„‰", "æ¹–è¥¿é„‰"],
        "é‡‘é–€ç¸£": ["é‡‘æ²™é®", "é‡‘æ¹–é®", "é‡‘å¯§é„‰", "é‡‘åŸé®", "çƒˆå¶¼é„‰", "çƒåµé„‰"],
        "é€£æ±Ÿç¸£": ["å—ç«¿é„‰", "åŒ—ç«¿é„‰", "è’å…‰é„‰", "æ±å¼•é„‰"]
    };

    let visitedPlaces = JSON.parse(localStorage.getItem('visitedPlaces')) || [];
    let currentResult = "";

    function showGenerator() {
        document.getElementById('preface-layer').classList.add('layer-hidden');
        setTimeout(() => { 
            document.getElementById('generator-layer').style.opacity = '1'; 
            document.getElementById('generator-layer').style.pointerEvents = 'auto'; 
            updateVisitedCount();
        }, 1000);
    }

    function updateVisitedCount() {
        document.getElementById('visited-count').innerText = `Explored: ${visitedPlaces.length} regions`;
    }

    function startRolling() {
        const resultBox = document.getElementById('result');
        const confirmBtn = document.getElementById('confirm-btn');
        const missionBox = document.getElementById('mission-box');
        confirmBtn.style.display = "none";
        missionBox.style.display = "none";
        
        let counter = 0;
        let roll = setInterval(() => {
            const counties = Object.keys(taiwanData);
            const rC = counties[Math.floor(Math.random() * counties.length)];
            const rT = taiwanData[rC][Math.floor(Math.random() * taiwanData[rC].length)];
            resultBox.innerText = `${rC} ${rT}`;
            counter++;
            if (counter > 20) {
                clearInterval(roll);
                pickFinal();
            }
        }, 50);
    }

    function pickFinal() {
        const counties = Object.keys(taiwanData);
        let available = [];
        counties.forEach(c => {
            taiwanData[c].forEach(t => {
                const place = `${c} ${t}`;
                if (!visitedPlaces.includes(place)) available.push(place);
            });
        });

        if (available.length === 0) {
            document.getElementById('result').innerText = "All borders crossed.";
            return;
        }

        currentResult = available[Math.floor(Math.random() * available.length)];
        document.getElementById('result').innerText = currentResult;
        document.getElementById('confirm-btn').style.display = "block";
        
        const missions = [
            "å°‹æ‰¾ç•¶åœ°æœ€è€çš„ä¸€æ£µæ¨¹ä¸¦åˆå½±",
            "åœ¨ç•¶åœ°é›œè²¨åº—è²·ä¸€æ¨£æ²’è¦‹éçš„å°é›¶é£Ÿ",
            "æ‰¾ä¸€å€‹èƒ½çœ‹è¦‹åœ°å¹³ç·šçš„é«˜è™•ç™¼å‘†ååˆ†é˜",
            "ç‚ºå½¼æ­¤æ‹ä¸€å¼µå¸¶æœ‰ç•¶åœ°è·¯æ¨™çš„ç‰¹å¯«ç…§ç‰‡",
            "æ”¶é›†ä¸€ç‰‡ç•¶åœ°çš„è½è‘‰æˆ–å°çŸ³é ­ä½œç‚ºç´€å¿µ"
        ];
        document.getElementById('mission-box').innerHTML = `<strong>Nomadic Mission:</strong><br>${missions[Math.floor(Math.random() * missions.length)]}`;
        document.getElementById('mission-box').style.display = "block";
    }

    function confirmArrival() {
        if (!visitedPlaces.includes(currentResult)) {
            visitedPlaces.push(currentResult);
            localStorage.setItem('visitedPlaces', JSON.stringify(visitedPlaces));
            updateVisitedCount();
            alert(`ğŸ“ ${currentResult} å·²å¯«å…¥éŠç‰§æ­·å²`);
            document.getElementById('confirm-btn').style.display = "none";
        }
    }

    function clearHistory() {
        if (confirm("ç¢ºå®šè¦åˆªé™¤æ‰€æœ‰å·²æ¢ç´¢çš„åœ°é»è¨˜æ†¶å—ï¼Ÿ")) {
            visitedPlaces = [];
            localStorage.removeItem('visitedPlaces');
            updateVisitedCount();
        }
    }
</script>
</body>
</html>
