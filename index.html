<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Route19: The Editorial Guide</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,500;0,700;1,400&family=Noto+Serif+TC:wght@200;300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <svg xmlns="http://www.w3.org/2000/svg" class="noise-filter">
        <filter id="noise">
            <feTurbulence type="fractalNoise" baseFrequency="0.85" numOctaves="4" stitchTiles="stitch" result="noiseContent"></feTurbulence>
            <feColorMatrix in="noiseContent" type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.15 0" result="noiseResult"></feColorMatrix>
            <feBlend in="SourceGraphic" in2="noiseResult" mode="overlay"></feBlend>
        </filter>
        <rect width="100%" height="100%" filter="url(#noise)"></rect>
    </svg>
    <div class="vignette-overlay"></div> 
    <div id="static-glitch" class="glitch-overlay"></div>
    
    <nav>
        <div class="nav-link active" id="nav-oracle" onclick="showPage('oracle')">ISSUES 提案</div>
        <div class="nav-link" id="nav-archive" onclick="showPage('archive')">COLLECTION 護照</div>
        <div class="nav-link" id="nav-timeline" onclick="showPage('timeline')">JOURNAL 日記</div>
        <div class="nav-link" id="nav-about" onclick="showPage('about')">EDITORIAL 紀事</div>
    </nav>

    <div id="poster-template" class="ig-poster">
        <div class="poster-noise-layer"></div>
        <div class="poster-frame-editorial">
            <div class="poster-header-ed">
                <span class="poster-brand-ed">THE ROUTE N.19 GUIDE</span>
                <span class="poster-vol-ed" id="poster-vol"></span>
            </div>
            
            <div class="poster-hero-ed">
                <div class="poster-loc-ed" id="poster-loc"></div>
                <div class="poster-combo-ed">
                    <span id="poster-card-1"></span>
                    <span class="poster-x-ed">✕</span>
                    <span id="poster-card-2"></span>
                </div>
            </div>

            <div class="poster-missions-ed">
                <div class="pm-item-ed">
                    <span class="pm-num-ed">01</span>
                    <div class="pm-body-ed">
                        <span class="pm-title-ed">Where to look</span>
                        <div class="pm-desc-ed" id="poster-action"></div>
                    </div>
                </div>
                <div class="pm-item-ed">
                    <span class="pm-num-ed">02</span>
                    <div class="pm-body-ed">
                        <span class="pm-title-ed">What to taste</span>
                        <div class="pm-desc-ed" id="poster-food"></div>
                    </div>
                </div>
                <div class="pm-item-ed">
                    <span class="pm-num-ed">03</span>
                    <div class="pm-body-ed">
                        <span class="pm-title-ed">Outfit of the day</span>
                        <div class="pm-desc-ed" id="poster-style"></div>
                    </div>
                </div>
            </div>

            <div class="poster-footer-ed">
                <span id="poster-date" class="poster-date-ed"></span>
                <span class="poster-ig-ed">@Route19_Official</span>
            </div>
        </div>
    </div>

    <div id="oracle" class="page active">
        <div class="content-wrapper editorial-layout">
            <div class="page-header">
                <span class="vogue-subtitle">THE ROUTE N.19 GUIDE</span>
                <h1 class="vogue-title">Departures</h1>
            </div>
            <div class="editorial-intro">
                <p class="page-desc">關掉地圖評分。將今日的去向交給一張牌卡。換上一套取悅自己的衣服，搖下車窗，赴一場不在計畫內的約。</p>
                <div class="separator-line"></div>
            </div>

            <div class="control-panel">
                <div class="channel-wrapper" onclick="changeChannel()" title="點擊切換頻道">
                    <div class="channel-meta">
                        <span class="meta-en">FREQUENCY</span>
                        <span class="meta-zh">公路頻道</span>
                    </div>
                    <div class="channel-display">
                        <span id="current-channel-display" class="channel-name">FM 19.0 漫遊波段</span>
                        <span class="tune-action">[ 調頻 ]</span>
                    </div>
                </div>

                <div class="temp-selector">
                    <button class="temp-btn" id="btn-COLD" onclick="setTemp('COLD')">微涼</button>
                    <button class="temp-btn active" id="btn-MILD" onclick="setTemp('MILD')">舒適</button>
                    <button class="temp-btn" id="btn-HOT" onclick="setTemp('HOT')">溫暖</button>
                </div>
            </div>
            
            <div class="display-stage-editorial">
                <div id="loc-result" class="loc-display-large">準備好出發了嗎？</div>
                <div id="combo-display" class="tag-row-editorial" style="visibility:hidden;">
                    <span id="tag-1"></span><span class="tag-x">✕</span><span id="tag-2"></span>
                </div>
            </div>
            
            <div class="action-area">
                <button class="btn-vogue-editorial" onclick="drawFate()">
                    <span class="btn-text">給我一個出發的理由</span>
                    <span class="btn-line"></span>
                </button>
                <div class="manual-select-wrapper">
                    <span class="manual-select-text" onclick="toggleManualSelect()">[ 或是，由我指定目的地 ]</span>
                    <select id="manual-loc-select" class="manual-loc-select" style="display:none;" onchange="if(this.value) drawFate(this.value)">
                        <option value="">請選擇你想去的鄉鎮市區...</option>
                    </select>
                </div>
            </div>

            <div id="mission-panel" class="mission-panel-editorial">
                <div class="mission-item-editorial">
                    <span class="m-num">01</span>
                    <div class="m-body">
                        <span class="m-header">Where to look</span>
                        <div class="m-content" id="m-action"></div>
                    </div>
                </div>
                <div class="mission-item-editorial">
                    <span class="m-num">02</span>
                    <div class="m-body">
                        <span class="m-header">What to taste</span>
                        <div class="m-content" id="m-food"></div>
                    </div>
                </div>
                <div class="mission-item-editorial">
                    <span class="m-num">03</span>
                    <div class="m-body">
                        <span class="m-header">Outfit of the day</span>
                        <div class="m-content" id="m-style"></div>
                    </div>
                </div>
                <div class="btn-group-vertical">
                    <button class="btn-vogue-editorial btn-primary-editorial" id="btn-save" onclick="manualSave()">
                        <span class="btn-text">把這趟旅程收進護照</span>
                    </button>
                    <button class="btn-vogue-editorial" onclick="generateIGStory()">
                        <span class="btn-text">列印專屬限動海報</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="archive" class="page">
        <div class="content-wrapper editorial-layout">
             <div class="page-header">
                <span class="vogue-subtitle">COLLECTION OF 368</span>
                <h1 class="vogue-title">Passport</h1>
            </div>
            <div class="editorial-intro">
                <p class="page-desc">這裡沒有必去清單，只收集每一次為風景停下引擎的專屬印記。</p>
                <div class="separator-line"></div>
            </div>
            
            <div class="progress-container-editorial">
                <div class="progress-bar-bg-thin">
                    <div class="progress-bar-fill-thin" id="progress-bar-fill"></div>
                </div>
                <div class="progress-info-editorial">
                    <span class="progress-text">已點亮的風景 <span id="progress-text-count" style="color:var(--active-color)">0 / 368</span></span>
                    <span class="progress-percent" id="progress-percent">0%</span>
                </div>
            </div>
            <div id="stamp-container" class="stamp-container-editorial"></div>
        </div>
    </div>

    <div id="timeline" class="page">
        <div class="content-wrapper editorial-layout">
            <div class="page-header">
                <span class="vogue-subtitle">CHRONOLOGICAL</span>
                <h1 class="vogue-title">Journal</h1>
            </div>
             <div class="editorial-intro">
                <p class="page-desc">依循時間的刻度，翻閱在公路上寫下的每一頁任性。</p>
                <div class="separator-line"></div>
            </div>
            <div id="journal-list" class="journal-list-editorial"></div>
        </div>
    </div>

    <div id="about" class="page">
        <div class="content-wrapper editorial-layout">
             <div class="page-header">
                <span class="vogue-subtitle">BEHIND THE SCENE</span>
                <h1 class="vogue-title">Editorial Note</h1>
            </div>
            
            <div class="about-section-manifesto">
                <div class="manifesto-left">
                    <span class="manifesto-label">THE STATEMENT</span>
                    <p class="manifesto-quote">把行程表丟在後照鏡裡。<br>這是一場共時性與影像交會的浪漫叛逃。</p>
                </div>
                <div class="manifesto-right">
                    <div class="editorial-article">
                        <p>
                            <span class="drop-cap">在</span>這個只要打開手機，就能將全世界盡收眼底的時代，旅行似乎漸漸失去了原有的悸動。出發前，我們早就滑過無數張完美構圖的景點照，熟讀了每一則星級評論。當一切都被精準預測，抵達目的地不再是探索，反而成了一場名為「打卡」的確認儀式。
                        </p>
                        <p>
                            Route19 誕生了。它不是老手寫的旅遊攻略，而是我們給自己、也給你們的一份「日常叛逃提案」。結合了一點神秘學的雷諾曼符號與編輯私心的品味濾鏡，我們希望把出發變成一場有趣的實驗。在這條名為未知的航線上，我們都是新手。
                        </p>
                        <p class="editor-signature">— WADE & CLOUDY</p>
                    </div>
                </div>
            </div>

            <div class="about-footer-editorial">
                <span>© 2026 ROUTE19 EDITORIAL BY WADE & CLOUDY.</span>
                <span>DESIGNED FOR THE CURIOUS SOUL.</span>
            </div>
        </div>
    </div>

    <div id="poster-modal" class="poster-modal">
        <div class="modal-content">
             <p>📸 長按圖片即可儲存至手機相簿</p>
             <div class="img-frame-editorial">
                <img id="generated-poster-img" src="" alt="Route19 Poster">
             </div>
            <button class="btn-text-only close-btn" onclick="closePosterModal()">[ 關閉海報 ]</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
